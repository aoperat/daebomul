<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>ëŒ€ë³´ë¬¼ì‹œëŒ€ ì¿ í° ì½”ë“œ ë§í¬ ìƒì„±ê¸°</title>
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-W4RB5JWP');
    </script>
    <!-- Google Tag Manager End -->

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XF9H5LNT7T"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-XF9H5LNT7T');
    </script>
    <!-- Google Analytics 4 End -->

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <meta name="keywords"
        content="ì„¸ë¸ë‚˜ì´ì¸ , ëŒ€ë³´ë¬¼ì‹œëŒ€, ì¿ í°, ìë™ì…ë ¥, ì„¸ë‚˜ì¿ í°, Netmarble, ì¿ í° ì½”ë“œ, ìë™ ì¿ í° ë“±ë¡, ì„¸ë‚˜, Daebomul, coupon, SevenKnights">
    <meta name="description"
        content="ì„¸ë¸ë‚˜ì´ì¸ , ëŒ€ë³´ë¬¼ì‹œëŒ€ ë“± ë‹¤ì–‘í•œ ê²Œì„ ì¿ í°ì„ ë¹ ë¥´ê³  í¸í•˜ê²Œ ìë™ì…ë ¥í•  ìˆ˜ ìˆëŠ” ì¿ í° ë§í¬ ìƒì„±ê¸°! UID ì…ë ¥ë§Œìœ¼ë¡œ ëŒ€ëŸ‰ ì¿ í° ìë™ ì˜¤í”ˆ. ê°œë°œì ì œê³µ, ë¬´ë£Œ ì‚¬ìš©.">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body class="d-flex flex-column min-vh-100">
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W4RB5JWP" height="0" width="0"
            style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- ëª¨ë°”ì¼ìš© ì»¤í”¼ì‚¬ê¸° í”Œë¡œíŒ… ë²„íŠ¼ -->
    <button id="fab-coffee" type="button" data-bs-toggle="modal" data-bs-target="#donateModal">
        <i class="bi bi-cup-hot"></i> ì»¤í”¼ì‚¬ê¸°
    </button>

    <!-- í›„ì› ëª¨ë‹¬ -->
    <div class="modal fade" id="donateModal" tabindex="-1" aria-labelledby="donateModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="donateModalLabel">í›„ì› ê³„ì¢Œ ì•ˆë‚´</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ë‹«ê¸°"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="mb-2 fw-bold">ì˜ˆê¸ˆì£¼: <span class="text-primary">ì´*í™˜</span></div>
                    <div class="mb-2">êµ­ë¯¼ì€í–‰: <span class="fw-bold">102702-04-128855</span></div>
                    <div class="mt-2 text-muted small">ì‘ì€ í›„ì›ë„ í° í˜ì´ ë©ë‹ˆë‹¤.<br>ê°ì‚¬í•©ë‹ˆë‹¤!</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ë‹«ê¸°</button>
                </div>
            </div>
        </div>
    </div>



    <!-- Header & Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="#">ì„¸ë‚˜ì¿ í°</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain"
                aria-controls="navbarMain" aria-expanded="false" aria-label="ë©”ë‰´ ì—´ê¸°">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarMain">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">ëŒ€ë³´ë¬¼ì‹œëŒ€ ì¿ í°</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="coupon-seven.html">ì„¸ë¸ë‚˜ì´ì¸  ì¿ í°</a>
                    </li>
                </ul>
                <!-- PCìš© ì»¤í”¼ì‚¬ê¸° ë²„íŠ¼(ëª¨ë°”ì¼ì—ì„œëŠ” ìˆ¨ê¹€) -->
                <a href="#" class="btn btn-warning fw-bold ms-lg-2" data-bs-toggle="modal"
                    data-bs-target="#donateModal">â˜• ê°œë°œìì—ê²Œ ì»¤í”¼ì‚¬ê¸°</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-shrink-0" style="padding-top:72px">
        <div class="container py-4">

            <!-- ì œëª© + ì¦ê²¨ì°¾ê¸° ë²„íŠ¼ -->
            <div class="d-flex align-items-center justify-content-between mb-4 flex-wrap gap-2">
                <h2 class="fw-bold text-primary mb-0">ì„¸ë¸ë‚˜ì´ì¸  ì¿ í° ì½”ë“œ ìë™ì…ë ¥</h2>
                <button id="btnBookmark" class="btn btn-outline-warning btn-sm d-flex align-items-center px-3"
                    type="button" style="font-weight:bold;">
                    <i class="bi bi-star me-2" style="font-size:1.2em"></i>
                    ì¦ê²¨ì°¾ê¸° ì¶”ê°€
                </button>
            </div>

            <!-- â­ ì•ˆë‚´ë¬¸êµ¬ ì˜ì—­ (ì—¬ê¸°!) -->
            <div class="alert alert-info py-2 mb-3" style="font-size:1.04em; font-weight:500;">
                <i class="bi bi-info-circle me-1"></i>
                <span>
                    <strong>í˜ì´ì§€ ì •ë³´ì™€ ì¿ í° ë°ì´í„°ê°€ ì˜ˆê³  ì—†ì´ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong>
                    ìì£¼ ë°©ë¬¸í•˜ì‹¤ ë¶„ì€ <span class="text-warning fw-bold">ì¦ê²¨ì°¾ê¸°</span>ë¥¼ ê¼­ í•´ì£¼ì„¸ìš”!
                </span>
            </div>

            <!-- ìš´ì˜ ê³µì§€/ê°ì‚¬ ë©”ì‹œì§€ -->
            <div class="alert alert-warning my-3 small text-center">
                ë³¸ ì‚¬ì´íŠ¸ëŠ” ì¿ íŒ¡íŒŒíŠ¸ë„ˆìŠ¤ ê´‘ê³  ìˆ˜ìµìœ¼ë¡œ ìš´ì˜ë©ë‹ˆë‹¤.<br>
                ê´‘ê³ ì— ê´€ì‹¬ì„ ê°€ì ¸ì£¼ì‹œë©´ ë” ë‚˜ì€ ë¬´ë£Œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ë° í° í˜ì´ ë©ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!
            </div>


            <!-- ê´‘ê³  ì¹´ë“œ(ì¿ í° í…Œì´ë¸” ìœ„ or ì•„ë˜ì— ë°°ì¹˜) -->
            <div class="container my-3">
                <div class="row g-3 justify-content-center">
                    <iframe
                        src="https://ads-partners.coupang.com/widgets.html?id=891678&template=carousel&trackingCode=AF5721025&subId=&width=600&height=400&tsource="
                        width="600" height="400" frameborder="0" scrolling="no" referrerpolicy="unsafe-url"
                        browsingtopics></iframe>
                </div>
            </div>





            <!-- ê´‘ê³  ë°°ë„ˆ ìºëŸ¬ì…€ (ê´‘ê³  í´ë¦­ì´ ì–´ë–¤ ê¸°ëŠ¥ì˜ ì¡°ê±´ì´ ì•„ë‹˜) -->
            <!-- <div class="small text-muted mb-1 ms-1">[ê´‘ê³ ] ì•„ë˜ì˜ ì¶”ì²œ ìƒí’ˆì€ ìš´ì˜ ë¹„ìš©ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.</div> -->
            <!-- <div id="adCarousel" class="carousel slide mb-3" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#adCarousel" data-bs-slide-to="0" class="active"
                        aria-current="true" aria-label="1"></button>
                    <button type="button" data-bs-target="#adCarousel" data-bs-slide-to="1" aria-label="2"></button>
                </div>
                <div class="carousel-inner rounded shadow-sm">
                    <div class="carousel-item" data-bs-interval="6000">
                        <a href="https://link.coupang.com/a/cFrc3H" target="_blank" rel="noopener"
                            onclick="trackAdClick('ì„¸ë‚˜ ì¹ ì„±ì‚¬ì´ë‹¤', 'https://link.coupang.com/a/cFrc3H')">
                            <img src="ad/ì‚¬ì´ë‹¤.png" class="d-block w-100" alt="ì„¸ë‚˜ ì¹ ì„±ì‚¬ì´ë‹¤">
                        </a>
                    </div>
                    <div class="carousel-item active" data-bs-interval="6000">
                        <a href="https://link.coupang.com/a/cFrddm" target="_blank" rel="noopener"
                            onclick="trackAdClick('ë§ˆë¹„ë…¸ê¸° í”¼ê·œì–´', 'https://link.coupang.com/a/cFrddm')">
                            <img src="ad/ë§ˆë¹„ë…¸ê¸°.png" class="d-block w-100" alt="ë§ˆë¹„ë…¸ê¸° í”¼ê·œì–´">
                        </a>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#adCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                    <span class="visually-hidden">ì´ì „</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#adCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                    <span class="visually-hidden">ë‹¤ìŒ</span>
                </button>
            </div> -->

            <p style="color: #b71c1c; font-weight: bold;">
                â€» iOS(Safari ë“±)ì—ì„œëŠ” ë³´ì•ˆ ì •ì±…ìƒ í•œ ë²ˆì— í•˜ë‚˜ì˜ íƒ­ë§Œ ì—´ë¦½ë‹ˆë‹¤.<br>
                ì—¬ëŸ¬ ì‚¬ì´íŠ¸ë¥¼ í•œ ë²ˆì— ì—´ë ¤ë©´ PC ë¸Œë¼ìš°ì €ë¥¼ ì´ìš©í•´ ì£¼ì„¸ìš”.
            </p>

            <!-- ì—…ë°ì´íŠ¸ ê³µì§€ -->
            <div class="alert alert-info alert-dismissible fade show mb-4" role="alert">
                <h6 class="alert-heading fw-bold mb-2">ğŸ“¢ ì¿ í° ì—…ë°ì´íŠ¸ ì™„ë£Œ!</h6>
                <p class="mb-2">ë§ì€ ë¶„ë“¤ì´ ê¸°ë‹¤ë ¤ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ìµœì‹  ì¿ í° ì •ë³´ë¡œ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤.</p>
                <p class="mb-0">ìƒˆë¡œìš´ ì¿ í°ë“¤ì´ ì¶”ê°€ë˜ì—ˆìœ¼ë‹ˆ í™•ì¸í•´ë³´ì„¸ìš”. ì¦ê±°ìš´ ê²Œì„ ë˜ì„¸ìš”! ğŸ®</p>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="ë‹«ê¸°"></button>
            </div>
            
            <div class="mb-3">
                <label for="uid" class="form-label">UID ì…ë ¥</label>
                <input type="text" id="uid" class="form-control w-auto d-inline-block" placeholder="UID ì…ë ¥">
                <button id="openSelectedBtn" class="btn btn-success ms-2">
                    ì²´í¬ëœ ë§í¬ ì¼ê´„ ì—´ê¸°
                </button>
            </div>
            <div class="table-responsive">
                <table class="table table-bordered align-middle mb-4">
                    <thead class="table-light">
                        <tr>
                            <th><input type="checkbox" id="selectAll"> ì „ì²´</th>
                            <th>ë²ˆí˜¸</th>
                            <th>ì½”ë“œ</th>
                            <th>ë³´ìƒ/ì„¤ëª…</th>
                            <th>ë§í¬ ì´ë™</th>
                        </tr>
                    </thead>
                    <tbody id="coupon-tbody">
                        <!-- ë°ì´í„°ê°€ JSë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>
    <!-- Footer -->
    <footer class="footer mt-auto py-3 border-top">
        <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center gap-2">
            <div class="d-flex align-items-center gap-2">
                <a href="https://aoperat.github.io" class="btn btn-outline-primary" target="_blank" rel="noopener">
                    ê°œë°œì ë¸”ë¡œê·¸
                </a>
                <a href="https://developro.tistory.com/" class="btn btn-outline-success" target="_blank" rel="noopener">
                    ê°œë°œì í‹°ìŠ¤í† ë¦¬
                </a>
            </div>
            <div class="text-muted small">&copy; 2025 ë””ë²¨ë¡œí”„ë¡œ. All rights reserved.</div>
        </div>
    </footer>
    <!-- scripts -->
    <script src="coupons-dae.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ads-partners.coupang.com/g.js"></script>
    <script>
        // UID ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°
        window.addEventListener('DOMContentLoaded', function () {
            const saved = localStorage.getItem('coupontool_uid');
            if (saved) document.getElementById('uid').value = saved;

            openAdPopup()

        });

        // ë²„íŠ¼ í´ë¦­ ë“±ìœ¼ë¡œ ì‹¤í–‰
        function openAdPopup() {
            const POPUP_INTERVAL = 6 * 60 * 60 * 1000; // 6ì‹œê°„(ms)
            const now = Date.now();
            const lastPopupTime = localStorage.getItem('adPopupLastTime');

            // 6ì‹œê°„ì´ ì•ˆ ì§€ë‚¬ìœ¼ë©´ í•¨ìˆ˜ ì¢…ë£Œ(íŒì—… ì˜¤í”ˆ ì•ˆ í•¨)
            if ((lastPopupTime && now - Number(lastPopupTime) < POPUP_INTERVAL)) {
                return;
            }

            // 6ì‹œê°„ ì§€ë‚¬ìœ¼ë©´ íŒì—… ì˜¤í”ˆ
            window.open('ad-popup.html', 'adPopup', 'width=650,height=600,resizable=yes,scrollbars=yes');
            localStorage.setItem('adPopupLastTime', now.toString());
        }



        document.getElementById('uid').addEventListener('input', function (e) {
            localStorage.setItem('coupontool_uid', e.target.value);
        });

        // ì¿ í° í…Œì´ë¸” ë Œë”ë§ í•¨ìˆ˜
        function renderTable() {
            const tbody = document.getElementById('coupon-tbody');
            tbody.innerHTML = '';
            coupons.forEach((row, i) => {
                const tr = document.createElement('tr');

                // ì²´í¬ë°•ìŠ¤
                const tdCheck = document.createElement('td');
                if (row.code) {
                    const cb = document.createElement('input');
                    cb.type = 'checkbox';
                    cb.className = 'cb-coupon';
                    cb.dataset.idx = i;
                    tdCheck.appendChild(cb);
                }
                tr.appendChild(tdCheck);

                // ë²ˆí˜¸
                const tdNum = document.createElement('td');
                tdNum.textContent = i + 1;
                tr.appendChild(tdNum);

                // ì½”ë“œ
                const tdCode = document.createElement('td');
                tdCode.textContent = row.code;
                tr.appendChild(tdCode);

                // ì„¤ëª…
                const tdDesc = document.createElement('td');
                tdDesc.textContent = row.desc;
                tr.appendChild(tdDesc);

                // ì´ë™ ë²„íŠ¼
                const tdBtn = document.createElement('td');
                if (row.code) {
                    const btn = document.createElement('button');
                    btn.textContent = "ì´ë™";
                    btn.className = "btn btn-outline-primary btn-sm";
                    btn.onclick = function () {
                        const uid = document.getElementById('uid').value.trim();
                        if (!uid) {
                            alert('UIDë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
                            document.getElementById('uid').focus();
                            return;
                        }
                        const url = `https://coupon.netmarble.com/tskgb?playerId=${encodeURIComponent(uid)}&code=${row.code}`;
                        window.open(url, '_blank');
                    };
                    tdBtn.appendChild(btn);
                }
                tr.appendChild(tdBtn);
                tbody.appendChild(tr);
            });
        }

        renderTable();

        // ì „ì²´ì„ íƒ ê¸°ëŠ¥
        document.getElementById('selectAll').addEventListener('change', function () {
            const checked = this.checked;
            document.querySelectorAll('.cb-coupon').forEach(cb => {
                cb.checked = checked;
            });
        });

        // ê°œë³„ ì²´í¬ì‹œ ì „ì²´ì„ íƒ ìƒíƒœ ë™ê¸°í™”
        document.getElementById('coupon-tbody').addEventListener('change', function (e) {
            if (e.target.classList.contains('cb-coupon')) {
                const allCheckboxes = Array.from(document.querySelectorAll('.cb-coupon'));
                const allChecked = allCheckboxes.length > 0 && allCheckboxes.every(cb => cb.checked);
                document.getElementById('selectAll').checked = allChecked;
            }
        });

        // ì¼ê´„ ì˜¤í”ˆ ë²„íŠ¼
        document.getElementById('openSelectedBtn').onclick = function () {
            const uid = document.getElementById('uid').value.trim();
            if (!uid) {
                alert('UIDë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
                document.getElementById('uid').focus();
                return;
            }
            const checked = document.querySelectorAll('.cb-coupon:checked');
            if (checked.length === 0) {
                alert('ì ì–´ë„ í•˜ë‚˜ ì´ìƒ ì„ íƒí•˜ì„¸ìš”.');
                return;
            }
            checked.forEach(cb => {
                const idx = Number(cb.dataset.idx);
                const code = coupons[idx].code;
                const url = `https://coupon.netmarble.com/tskgb?playerId=${encodeURIComponent(uid)}&code=${code}`;
                window.open(url, '_blank');
            });
        };

        // ê´‘ê³  í´ë¦­ íŠ¸ë˜í‚¹ (ê¸°ëŠ¥ ì—°ë™ ì—†ì´ í†µê³„ìš©)
        function trackAdClick(label, url) {
            if (typeof gtag === 'function') {
                gtag('event', 'ad_click', {
                    event_category: 'Ad',
                    event_label: label,
                    ad_url: url
                });
            }
            // **ê¸°ëŠ¥ í•´ì œ/ì œê³µ ë“±ì˜ ë™ì‘ ì—†ìŒ**
        }
        window.trackAdClick = trackAdClick;
    </script>
    <script>
        document.getElementById('btnBookmark').addEventListener('click', function () {
            const url = window.location.href;
            const title = document.title;

            // IE & ì¼ë¶€ Edge êµ¬ë²„ì „
            if (window.external && ('AddFavorite' in window.external)) {
                window.external.AddFavorite(url, title);
                return;
            }

            // iOS
            const ua = navigator.userAgent;
            if (/iPad|iPhone|iPod/.test(ua)) {
                alert("iOSì—ì„œëŠ” ì‚¬íŒŒë¦¬ì—ì„œ\nê³µìœ  ë²„íŠ¼(ìœ„ìª½ í™”ì‚´í‘œ)ì„ ëˆ„ë¥¸ ë’¤\n'í™ˆ í™”ë©´ì— ì¶”ê°€' ë˜ëŠ” 'ë¶ë§ˆí¬ ì¶”ê°€'ë¥¼ ì„ íƒí•˜ì„¸ìš”.");
                return;
            }
            // Android Chrome
            if (/Android/.test(ua)) {
                alert("Androidì—ì„œëŠ”\në¸Œë¼ìš°ì € ìš°ì¸¡ ìƒë‹¨ ë©”ë‰´(â‹®)ì—ì„œ\n'ë¶ë§ˆí¬' ë˜ëŠ” 'í™ˆ í™”ë©´ì— ì¶”ê°€'ë¥¼ ì„ íƒí•˜ì„¸ìš”.");
                return;
            }
            // ëŒ€ë¶€ë¶„ì˜ PC ë¸Œë¼ìš°ì €
            alert("ì´ í˜ì´ì§€ë¥¼ ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€í•˜ë ¤ë©´\n[Ctrl] + [D] í‚¤ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.");
        });

    </script>

</body>

</html>