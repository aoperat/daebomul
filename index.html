<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>ì¿ í° ì½”ë“œ ë§í¬ ìƒì„±ê¸°</title>
    <!-- ================================
         [Google Tag Manager ì½”ë“œ ì‹œì‘]
         ì‚¬ì´íŠ¸ ë°©ë¬¸ì íŠ¸ë˜í”½, ë§ˆì¼€íŒ… íƒœê·¸ ê´€ë¦¬
         ================================ -->
    <script>
        // Google Tag Manager ì‚½ì… ìŠ¤í¬ë¦½íŠ¸ (head ì˜ì—­)
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-W4RB5JWP');
    </script>
    <!-- ================================
         [Google Tag Manager ì½”ë“œ ë]
         ================================ -->

    <!-- ================================
         [Google Analytics 4 ì½”ë“œ ì‹œì‘]
         ë°©ë¬¸ì/ì´ë²¤íŠ¸ ë°ì´í„° ìˆ˜ì§‘
         ================================ -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XF9H5LNT7T"></script>
    <script>
        // GA4(êµ¬ê¸€ ì• ë„ë¦¬í‹±ìŠ¤) ê¸°ë³¸ ì„¤ì •
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-XF9H5LNT7T');
    </script>
    <!-- ================================
         [Google Analytics 4 ì½”ë“œ ë]
         ================================ -->

    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            padding: 20px;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 20px;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 6px 8px;
            text-align: center;
        }

        th {
            background: #f5f5f5;
        }

        tr:nth-child(even) {
            background: #fafafa;
        }

        input[type="text"] {
            font-size: 16px;
            padding: 5px;
        }

        button {
            padding: 4px 10px;
            cursor: pointer;
        }

        .donate-btn {
            margin-bottom: 18px;
            background: #ffe07a;
            border: 1px solid #ddbc36;
            color: #694400;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <!-- ================================
         [Google Tag Manager noscript ë²„ì „]
         JS ë¹„í™œì„±í™” ì‚¬ìš©ì íŠ¸ë˜í”½ë„ ìˆ˜ì§‘
         ================================ -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W4RB5JWP"
                height="0" width="0"
                style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- ================================ -->

    <button class="donate-btn" onclick="showDonate()">ğŸ’ í›„ì›í•˜ê¸°</button>
    <h2>ì¿ í° ì½”ë“œ ë§í¬ ìƒì„±ê¸°</h2>
    <label>
        UID ì…ë ¥:
        <input type="text" id="uid" placeholder="UID ì…ë ¥">
    </label>
    <button id="openSelectedBtn">ì²´í¬ëœ ë§í¬ ì¼ê´„ ì—´ê¸°</button>
    <table>
        <thead>
            <tr>
                <th>
                    <input type="checkbox" id="selectAll"> ì „ì²´
                </th>
                <th>ë²ˆí˜¸</th>
                <th>ì½”ë“œ</th>
                <th>ë³´ìƒ/ì„¤ëª…</th>
                <th>ë§í¬ ì´ë™</th>
            </tr>
        </thead>
        <tbody id="coupon-tbody">
            <!-- ë°ì´í„°ê°€ JSë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </tbody>
    </table>
    <script>
        // í›„ì› íŒì—…
        function showDonate() {
            alert(
                `[í›„ì› ì•ˆë‚´]

ì˜ˆê¸ˆì£¼: ì´*í™˜
êµ­ë¯¼ì€í–‰: 102702-04-128855

ì‘ì€ í›„ì›ë„ í° í˜ì´ ë©ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!`
            );
        }

        // ì¿ í° ë°ì´í„°
        const coupons = [
            { code: "RINKARMA", desc: "ë¦° *" },
            { code: "SECRETCODE", desc: "ë£¨ë¹„ 300ê°œ, ì—´ì‡  30ê°œ" },
            { code: "777SENARE", desc: "ë£¨ë¹„ 300ê°œ, ì—´ì‡  30ê°œ" },
            { code: "JJOLJACK", desc: "ë£¨ë¹„ 300ê°œ, ì—´ì‡  30ê°œ" },
            { code: "LOVESENA", desc: "ë£¨ë¹„ 300ê°œ, ì—´ì‡  30ê°œ" },
            { code: "SENAREGOGO", desc: "ê³¨ë“œ 30ë§Œê°œ" },
            { code: "", desc: "" },
            { code: "GOODLUCK", desc: "ê³¨ë“œ 30ë§Œê°œ" },
            { code: "SEVENVSDARK", desc: "ê³¨ë“œ 30ë§Œê°œ" },
            { code: "7777777", desc: "ê³¨ë“œ 30ë§Œê°œ" },
            { code: "", desc: "" },
            { code: "SURPRISE", desc: "ê³¨ë“œ 30ë§Œê°œ" },
            { code: "THEMONTHOFSENA", desc: "ê³¨ë“œ 30ë§Œê°œ" },
            { code: "", desc: "" },
            { code: "7SENASENA7", desc: "ì´ë²¤íŠ¸ í« [í¬ê·€] ë‘ *" },
            { code: "INTOTHESENA", desc: "ì—´ì‡  ìƒì 5ê°œ" },
            { code: "", desc: "" },
            { code: "REBIRTHBACK", desc: "ì—´ì‡  ìƒì 5ê°œ" },
            { code: "WELCOMEBACK", desc: "ì—´ì‡  ìƒì 5ê°œ" },
            { code: "", desc: "" },
            { code: "", desc: "" },
            { code: "", desc: "" },
            { code: "LODING", desc: "ì—´ì‡  ìƒì 3ê°œ, ê³¨ë“œ 10ë§Œê°œ" },
            { code: "GUILDWAR", desc: "ì´ë²¤íŠ¸ í« [í¬ê·€] ë¯¸ë¯¹ *" },
            { code: "HEROSOMMON", desc: "ì—´ì‡  240ê°œ, ê³¨ë“œ 15ë§Œê°œ" },
            { code: "", desc: "" },
            { code: "INFOCODEX", desc: "ì—´ì‡  120ê°œ, ê³¨ë“œ 15ë§Œê°œ" },
            { code: "", desc: "" },
            { code: "", desc: "" },
            { code: "", desc: "" },
            { code: "", desc: "" },
            { code: "", desc: "" },
            { code: "BONVOYAGE", desc: "í”½ì—… ì†Œí™˜ ì´ìš©ê¶Œ 5ê°œ" },
            { code: "", desc: "" },
            { code: "INFINITETOWER", desc: "ì˜ì›… ì†Œí™˜ ì´ìš©ê¶Œ 5ê°œ" },
            { code: "STORYEVENT", desc: "ì˜ì›… ì†Œí™˜ ì´ìš©ê¶Œ 5ê°œ" },
            { code: "EVANKARIN", desc: "ì˜ì›… ì†Œí™˜ ì´ìš©ê¶Œ 5ê°œ" },
            { code: "SENARAID", desc: "ì˜ì›… ì†Œí™˜ ì´ìš©ê¶Œ 5ê°œ" },
            { code: "WELCOMESENA", desc: "í« ì†Œí™˜ ì´ìš©ê¶Œ 5ê°œ" },
            { code: "MOONLIGHTCOAST", desc: "í« ì†Œí™˜ ì´ìš©ê¶Œ 5ê°œ" },
            { code: "MOREKEYS", desc: "í‘¸í‚¤ì˜ ì¦í‘œ 2ê°œ, ì—´ì‡  ìƒì 1ê°œ" },
            { code: "SHOWMETHEMONEY", desc: "í‘¸í‚¤ì˜ ì¦í‘œ 2ê°œ, ì—´ì‡  ìƒì 1ê°œ" },
            { code: "", desc: "" },
            { code: "MAILBOX", desc: "ì§„í™” ì¬ë£Œ ìƒì (ì¤‘) 50ê°œ" },
            { code: "", desc: "" },
            { code: "RELEASEPET", desc: "ì§„í™”ì¬ë£Œ ì„ íƒ ìƒì (ìƒ) 30ê°œ" },
            { code: "", desc: "" },
            { code: "NOHOSCHRONICLE", desc: "ì¼ë°˜ ì˜ì›… ì†Œí™˜ê¶Œ 10ê°œ" },
            { code: "UPDATES", desc: "ì¼ë°˜ ì˜ì›… ì†Œí™˜ê¶Œ 10ê°œ" },
            { code: "THANKYOU", desc: "ì¼ë°˜ ì˜ì›… ì†Œí™˜ê¶Œ 10ê°œ" },
            { code: "SENAHAJASENA", desc: "ì¼ë°˜ ì˜ì›… ì†Œí™˜ê¶Œ 10ê°œ" },
            { code: "", desc: "" },
            { code: "", desc: "" },
            { code: "", desc: "" },
            { code: "FORTAGNIA", desc: "ê³ ê¸‰ ì˜ì›… ì†Œí™˜ê¶Œ 10ê°œ" },
            { code: "YUISSONG", desc: "ê³ ê¸‰ ì˜ì›… ì†Œí™˜ê¶Œ 10ê°œ" },
            { code: "YONGSANIM", desc: "ê³ ê¸‰ ì˜ì›… ì†Œí™˜ê¶Œ 10ê°œ" },
            { code: "PUKIDANCE", desc: "ê³ ê¸‰ ì˜ì›… ì†Œí™˜ê¶Œ 10ê°œ" },
            { code: "ADVENTURER", desc: "ê³ ê¸‰ ì˜ì›… ì†Œí™˜ê¶Œ 10ê°œ" },
            { code: "", desc: "" },
            { code: "", desc: "" },
            { code: "LEGENDSRAID", desc: "í¬ê·€ ì˜ì›… ì†Œí™˜ê¶Œ 1ê°œ, ê³¨ë“œ 10ë§Œê°œ" },
            { code: "SHININGPRISM", desc: "í¬ê·€ ì˜ì›… ì†Œí™˜ê¶Œ 1ê°œ, ê³¨ë“œ 10ë§Œ ê°œ" },
            { code: "", desc: "" },
            { code: "HTRIBERANES", desc: "í¬ê·€ ì˜ì›… ì†Œí™˜ê¶Œ 1ê°œ, ê³¨ë“œ 10ë§Œê°œ" },
            { code: "SADENDING", desc: "í¬ê·€~ì „ì„¤ ì˜ì›… ì†Œí™˜ê¶Œ 1ê°œ" },
            { code: "TREASURE", desc: "6ì„± í¬ê·€ ì˜ì›… ì†Œí™˜ê¶Œ 1ê°œ" },
            { code: "THEHOLYCROSS", desc: "6ì„± í¬ê·€ ì˜ì›… ì†Œí™˜ê¶Œ 1ê°œ" },
            { code: "VALKYRIE", desc: "ìŠ¤í‚¬ ê°•í™”ì„ 1ê°œ" },
            { code: "LOVELYRUBY", desc: "ìŠ¤í‚¬ ê°•í™”ì„ 1ê°œ" },
            { code: "", desc: "" },
            { code: "SENAEVENTS", desc: "ìŠ¤í‚¬ ê°•í™”ì„ 1ê°œ" },
            { code: "CMMAY", desc: "ì•Œ 2ê°œ 2ê°œ 3ê°œ" },
            { code: "PDKIMJUNGKI", desc: "ì•Œ 2ê°œ 2ê°œ 3ê°œ" },
            { code: "FUSEGETSPECIAL", desc: "ì•Œ 2ê°œ 2ê°œ 3ê°œ" },
            { code: "DARKKNIGHTS", desc: "ì•Œ 2ê°œ 2ê°œ 3ê°œ" },
            { code: "JULYSENAMONTH", desc: "ì•Œ 2ê°œ 2ê°œ 3ê°œ" }
        ];

        // í…Œì´ë¸” ìƒì„±
        const tbody = document.getElementById('coupon-tbody');
        coupons.forEach((row, i) => {
            const tr = document.createElement('tr');

            // ì²´í¬ë°•ìŠ¤
            const tdCheck = document.createElement('td');
            if (row.code) {
                const cb = document.createElement('input');
                cb.type = 'checkbox';
                cb.className = 'cb-coupon';
                cb.dataset.idx = i;
                tdCheck.appendChild(cb);
            }
            tr.appendChild(tdCheck);

            // ë²ˆí˜¸
            const tdNum = document.createElement('td');
            tdNum.textContent = i + 1;
            tr.appendChild(tdNum);

            // ì½”ë“œ
            const tdCode = document.createElement('td');
            tdCode.textContent = row.code;
            tr.appendChild(tdCode);

            // ì„¤ëª…
            const tdDesc = document.createElement('td');
            tdDesc.textContent = row.desc;
            tr.appendChild(tdDesc);

            // ë²„íŠ¼
            const tdBtn = document.createElement('td');
            if (row.code) {
                const btn = document.createElement('button');
                btn.textContent = "ì´ë™";
                btn.onclick = function () {
                    const uid = document.getElementById('uid').value.trim();
                    if (!uid) {
                        alert('UIDë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
                        document.getElementById('uid').focus();
                        return;
                    }
                    const url = `https://coupon.netmarble.com/tskgb?playerId=${encodeURIComponent(uid)}&code=${row.code}`;
                    window.open(url, '_blank');
                };
                tdBtn.appendChild(btn);
            }
            tr.appendChild(tdBtn);

            tbody.appendChild(tr);
        });

        // ì „ì²´ì„ íƒ ê¸°ëŠ¥
        document.getElementById('selectAll').addEventListener('change', function () {
            const checked = this.checked;
            document.querySelectorAll('.cb-coupon').forEach(cb => {
                cb.checked = checked;
            });
        });

        // ê°œë³„ ì²´í¬ í•´ì œ/ì„ íƒì‹œ ì „ì²´ì„ íƒ ìƒíƒœ ë™ê¸°í™”
        tbody.addEventListener('change', function (e) {
            if (e.target.classList.contains('cb-coupon')) {
                const allCheckboxes = Array.from(document.querySelectorAll('.cb-coupon'));
                const allChecked = allCheckboxes.every(cb => cb.checked);
                document.getElementById('selectAll').checked = allChecked;
            }
        });

        // ì¼ê´„ ì˜¤í”ˆ ë²„íŠ¼ ê¸°ëŠ¥
        document.getElementById('openSelectedBtn').onclick = function () {
            const uid = document.getElementById('uid').value.trim();
            if (!uid) {
                alert('UIDë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
                document.getElementById('uid').focus();
                return;
            }
            const checked = document.querySelectorAll('.cb-coupon:checked');
            if (checked.length === 0) {
                alert('ì ì–´ë„ í•˜ë‚˜ ì´ìƒ ì„ íƒí•˜ì„¸ìš”.');
                return;
            }
            checked.forEach(cb => {
                const idx = Number(cb.dataset.idx);
                const code = coupons[idx].code;
                const url = `https://coupon.netmarble.com/tskgb?playerId=${encodeURIComponent(uid)}&code=${code}`;
                window.open(url, '_blank');
            });
        };
    </script>
</body>

</html>
